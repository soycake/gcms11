<div class=bdr_content>
  <header>
    <h2 class="cuttext icon-register">{LNG_Create new account}</h2>
    <nav class="breadcrumbs cuttext">
      <ul>{BREADCRUMBS}</ul>
    </nav>
  </header>
  <form id=register_frm class=main_frm method=post action="{WEBURL}index.php" autocomplete=off>
    <fieldset>
      <div class=item>
        <label for=email>{LNG_Email}</label>
        <span class="g-input icon-email"><input type=text name=email id=email maxlength=255 title="{LNG_The system will send the registration information to this e-mail. Please use real email address}" autofocus></span>
      </div>
      <div class=comment id=result_email>{LNG_The system will send the registration information to this e-mail. Please use real email address}</div>
      <div class=item>
        <label for=password>{LNG_Password}</label>
        <span class="g-input icon-password"><input type=password name=password id=password maxlength=20 title="{LNG_Passwords must be at least four characters}"></span>
      </div>
      <div class=comment id=result_password>{LNG_Passwords must be at least four characters}</div>
      <div class=item>
        <label for=repassword>{LNG_Repassword}</label>
        <span class="g-input icon-password"><input type=password name=repassword id=repassword maxlength=20 title="{LNG_Enter your password again}"></span>
      </div>
      <div class=comment id=result_repassword>{LNG_Enter your password again}</div>
      <PHONE>
        <div class=item>
          <label for=phone>{LNG_Phone}</label>
          <span class="g-input icon-phone"><input type=text name=phone id=phone maxlength=10 title="{LNG_Please fill in} {LNG_phone number}" pattern="[0-9]+"></span>
        </div>
        <div class=comment id=result_phone>{LNG_Please fill in} {LNG_phone number}</div>
      </PHONE>
      <IDCARD>
        <div class=item>
          <label for=idcard>{LNG_Identification number}</label>
          <span class="g-input icon-profile"><input type=text name=idcard id=idcard maxlength=13 title="{LNG_13-digit identification number}" pattern="[0-9]+"></span>
        </div>
        <div class=comment id=result_idcard>{LNG_13-digit identification number}</div>
      </IDCARD>
      <INVITE>
        <div class=item>
          <label for=invite>{LNG_Invitation code}</label>
          <span class="g-input icon-flag"><input type=text name=invite id=invite maxlength=20 value="{INVITE}" title="{LNG_Code of the person who invited you to become a member (not required)}"></span>
        </div>
        <div class=comment id=result_invite>{LNG_Code of the person who invited you to become a member (not required)}</div>
      </INVITE>
      <div class=item>
        <label class="g-input antispam">
          <span><img src="{WEBURL}index.php/index/view/antispam?id={ANTISPAM}" alt=Antispam></span>
          <input type=text name=antispam id=antispam maxlength=4 placeholder="{LNG_Please enter the characters you see in the box}">
        </label>
        <div class=comment>{LNG_Please enter the characters you see in the box}</div>
      </div>
      <dl class=info>{LNG_REGISTER_CONFIRM}</dl>
    </fieldset>
    <fieldset class="submit right">
      <label>{LNG_Accept this agreement}&nbsp;<input type=checkbox name=accept id=accept></label>
      <input type=submit disabled id=submit class="button save" value="{LNG_Register}">
      <input type=hidden name=submit value=true>
      <input type=hidden id="antispam_id" name="antispam_id" value="{ANTISPAM}">
      <input type=hidden name="modal" value="{MODAL}">
      <input type="hidden" name="id" id="id" value=0>
    </fieldset>
  </form>
</div>
<script>
  $G(window).Ready(function () {
    new GForm('register_frm', '{WEBURL}index.php/index/model/newregister', null, false, onMemberSubmit).onsubmit(doFormSubmit);
    new GValidator('email', 'keyup,change', checkEmail, '{WEBURL}index.php/index/model/checker/email', null, 'register_frm');
    if ($E('phone')) {
      new GValidator('phone', 'keyup,change', checkPhone, '{WEBURL}index.php/index/model/checker/phone', null, 'register_frm');
    }
    if ($E('idcard')) {
      new GValidator('idcard', 'keyup,change', checkIdcard, '{WEBURL}index.php/index/model/checker/idcard', null, 'register_frm');
    }
    new GValidator('password', 'keyup,change', checkPassword);
    new GValidator('repassword', 'keyup,change', checkPassword);
    new GValidator('antispam', 'keyup,change', checkAntispam, '{WEBURL}index.php/index/model/checker/antispam', null, 'register_frm');
    $G('accept').addEvent('click', function () {
      $E('submit').disabled = this.checked ? false : true;
    });
  });
</script>